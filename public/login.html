<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login - Jayglo CellMoni Agent</title>
<link rel="stylesheet" href="css/style.css">
<style>
body { font-family: Arial, sans-serif; background: linear-gradient(120deg, #a1c4fd, #c2e9fb); color: #333; }
.header { text-align: center; padding: 20px; animation: fadeInDown 1s; }
.promo-banner { background-color: #1e90ff; color: white; padding: 5px; font-weight: bold; animation: slideLeft 10s linear infinite; }
.form-container { max-width: 350px; margin: 30px auto; padding: 20px; background: rgba(255,255,255,0.9); border-radius: 10px; box-shadow: 0 0 15px rgba(0,0,0,0.2); animation: fadeInUp 1s; }
input, button { width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ccc; }
.submit-btn { background-color: #1e90ff; color: white; font-weight: bold; border: none; cursor: pointer; transition: 0.3s; }
.submit-btn:hover { background-color: #104e8b; }
.footer { text-align: center; margin-top: 20px; }
</style>
</head>
<body>

<div class="header">
    <h1>Jayglo CellMoni Agent</h1>
</div>

<marquee class="promo-banner">Baim 5GB data long K5 tasol wantaim CellMoni | Pay water bill, PNG Air ticket, 100% bonus topup | Dial *888#</marquee>

<div class="form-container">
    <h2>Login</h2>
    <form id="loginForm">
        <input type="text" name="phone" placeholder="8-digit CellMoni Number" maxlength="8" required>
        <input type="password" name="password" placeholder="Password" required>
        <button type="submit" class="submit-btn">Login</button>
    </form>
    <p style="text-align:center;">Not registered? <a href="register.html">Register here</a></p>
</div>

<div class="footer">
    <button onclick="window.location.href='https://wa.me/71634839'" class="submit-btn">Contact Customer Service</button>
</div>

<script>
const form = document.getElementById("loginForm");
form.addEventListener("submit", async (e) => {
    e.preventDefault();
    const formData = new FormData(form);
    const data = Object.fromEntries(formData.entries());
    const res = await fetch("/login", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
    });
    const json = await res.json();
    alert(json.message);
    if(json.redirect) window.location.href = json.redirect;
});
</script>

</body>
</html>
